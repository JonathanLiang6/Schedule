# 课程表管理系统

## 项目概述

课程表管理系统是一款基于Python开发的Windows桌面应用程序，专门用于教育机构的课程安排与管理工作。该系统通过智能算法匹配教师和学生的可用时间，自动生成课程表，并提供直观的可视化界面供用户进行调整和优化。

### 核心功能

- **智能化排课**：根据教师和学生的时间安排自动匹配
- **冲突检测**：实时检测时间冲突，避免安排错误
- **便捷操作**：支持拖拽调整、批量导入等高效操作方式
- **完整统计**：提供教材费用统计功能，方便财务管理

## 技术栈

- **开发语言**：Python 3.8+
- **前端框架**：PyQt5
- **数据存储**：SQLite
- **打包工具**：PyInstaller

## 项目结构

```
XYschedule/
├── database/          # 数据库相关文件
│   ├── __init__.py
│   ├── init_db.py     # 数据库初始化
│   └── db_manager.py  # 数据库管理器
├── models/            # 数据模型
│   ├── __init__.py
│   ├── student.py     # 学生模型
│   ├── teacher.py     # 教师模型
│   ├── course.py      # 课程模型
│   └── textbook.py    # 教材模型
├── ui/                # UI界面
│   ├── __init__.py
│   └── main_window.py # 主窗口
├── utils/             # 工具函数
│   ├── __init__.py
│   └── tools.py       # 通用工具
├── main.py            # 主程序入口
├── requirements.txt   # 依赖包
└── README.md          # 项目说明
```

## 安装与运行

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 运行程序

```bash
python main.py
```

### 3. 打包为可执行文件

```bash
pyinstaller --onefile --windowed --name "课程表管理系统" main.py
```

## 使用说明

### 首次运行

1. 程序会自动创建数据库文件 `schedule.db`
2. 初始化数据表结构
3. 打开主界面

### 主要功能

- **备忘录**：左侧区域可记录临时通知和备注信息
- **课表展示**：中间区域以周视图或日视图显示课程安排
- **日历**：右侧区域显示当月日历，可点击日期快速查看
- **人员管理**：通过菜单栏的"管理"选项进入学生和教师管理
- **课程管理**：添加、编辑、删除课程
- **教材管理**：管理教材信息和费用
- **统计功能**：查看教材费用统计报表

### 数据导入导出

- **导入**：支持从CSV文件导入学生、教师和课程信息
- **导出**：支持将数据导出为CSV或JSON格式

## 数据库结构

### 核心数据表

- **students**：存储学生基本信息
- **teachers**：存储教师基本信息
- **courses**：存储课程信息
- **textbooks**：存储教材信息
- **available_times**：存储人员时间安排
- **memos**：存储备忘录内容

### 关联表

- **student_classes**：处理学生与班级的多对多关系
- **course_students**：记录课程参与学生
- **student_textbooks**：记录学生教材信息

## 注意事项

1. 程序仅支持Windows操作系统
2. 首次运行需要安装PyQt5等依赖包
3. 数据库文件会自动创建在程序目录下，请定期备份
4. 支持的数据导入格式为CSV文件，具体格式参考模板

## 开发计划

### 阶段一：基础框架（已完成）
- ✅ 搭建项目基础框架
- ✅ 设计数据库结构
- ✅ 实现基础数据模型

### 阶段二：用户界面（已完成）
- ✅ 实现主窗口布局
- ✅ 开发课表展示组件
- ✅ 开发备忘录组件

### 阶段三：核心功能（进行中）
- ⏳ 实现学生和教师管理
- ⏳ 实现课程创建和编辑
- ⏳ 实现冲突检测算法

### 阶段四：批量操作
- ⏳ 实现CSV文件导入导出
- ⏳ 实现标签批量操作

### 阶段五：高级功能
- ⏳ 实现课程拖拽调整
- ⏳ 完善冲突检测和提示
- ⏳ 开发教材统计界面

## 联系方式

如有问题或建议，请联系项目维护者。

---

© 2024 课程表管理系统